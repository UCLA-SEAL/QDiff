{'0000': 309, '0001': 266, '0010': 298, '0011': 264, '0100': 255, '0101': 278, '0110': 289, '0111': 367, '1000': 528, '1001': 509, '1010': 568, '1011': 689, '1100': 534, '1101': 663, '1110': 740, '1111': 1443}
results end
228
                ┌────────────┐                                          »
     qc_0 -> 0 ─┤ U2(π/8,2π) ├─────────────────■────────────────■───────»
               ┌┴────────────┤     ┌───┐     ┌─┴─┐┌──────────┐┌─┴─┐     »
     qc_3 -> 1 ┤ U3(π,π/8,π) ├──■──┤ X ├──■──┤ X ├┤ U1(-π/8) ├┤ X ├──■──»
               └─────────────┘  │  └─┬─┘  │  └───┘└──────────┘└───┘  │  »
ancilla_0 -> 2 ─────────────────┼────┼────┼──────────────────────────┼──»
                ┌────────────┐┌─┴─┐  │  ┌─┴─┐        ┌───┐         ┌─┴─┐»
     qc_1 -> 3 ─┤ U2(π/8,2π) ├┤ X ├──■──┤ X ├──■─────┤ X ├──────■──┤ X ├»
                ├───────────┬┘└───┘     └───┘┌─┴─┐   └─┬─┘    ┌─┴─┐└───┘»
     qc_2 -> 4 ─┤ U2(π/8,π) ├────────────────┤ X ├─────■──────┤ X ├─────»
                └───────────┘                └───┘            └───┘     »
         qm: 4/═════════════════════════════════════════════════════════»
                                                                        »
«                                                                           »
«     qc_0 -> 0 ─────────────────────────────■──────────────────────────────»
«                                ┌───┐     ┌─┴─┐┌─────────┐┌───┐┌──────────┐»
«     qc_3 -> 1 ──────────────■──┤ X ├──■──┤ X ├┤ U1(π/8) ├┤ X ├┤ U1(-π/8) ├»
«                             │  └─┬─┘  │  └───┘└─────────┘└─┬─┘└──────────┘»
«ancilla_0 -> 2 ──────────────┼────┼────┼────────────────────┼──────────────»
«               ┌──────────┐┌─┴─┐  │  ┌─┴─┐                  │              »
«     qc_1 -> 3 ┤ U1(-π/8) ├┤ X ├──■──┤ X ├──────────────────■──────────────»
«               └──────────┘└───┘     └───┘                                 »
«     qc_2 -> 4 ────────────────────────────────────────────────────────────»
«                                                                           »
«         qm: 4/════════════════════════════════════════════════════════════»
«                                                                           »
«                                                                        »
«     qc_0 -> 0 ──■──────────────────────────────────────────────────────»
«               ┌─┴─┐     ┌───┐                                          »
«     qc_3 -> 1 ┤ X ├──■──┤ X ├──■────────────────────────────────────■──»
«               └───┘  │  └─┬─┘  │                                    │  »
«ancilla_0 -> 2 ───────┼────┼────┼────────────────────────────────────┼──»
«                    ┌─┴─┐  │  ┌─┴─┐                      ┌───┐     ┌─┴─┐»
«     qc_1 -> 3 ─────┤ X ├──■──┤ X ├──■────────────────■──┤ X ├──■──┤ X ├»
«                    └───┘     └───┘┌─┴─┐┌──────────┐┌─┴─┐└─┬─┘┌─┴─┐└───┘»
«     qc_2 -> 4 ────────────────────┤ X ├┤ U1(-π/8) ├┤ X ├──■──┤ X ├─────»
«                                   └───┘└──────────┘└───┘     └───┘     »
«         qm: 4/═════════════════════════════════════════════════════════»
«                                                                        »
«                          ┌───┐                            ┌───┐            »
«     qc_0 -> 0 ─────■─────┤ X ├─────■────────────────■─────┤ X ├─────■──────»
«                  ┌─┴─┐   └─┬─┘   ┌─┴─┐            ┌─┴─┐   └─┬─┘   ┌─┴─┐    »
«     qc_3 -> 1 ───┤ X ├─────■─────┤ X ├──────■─────┤ X ├─────■─────┤ X ├────»
«                  └───┘           └───┘      │     └───┘           └───┘    »
«ancilla_0 -> 2 ──────────────────────────────┼──────────────────────────────»
«               ┌─────────┐┌───┐┌──────────┐┌─┴─┐┌─────────┐┌───┐┌──────────┐»
«     qc_1 -> 3 ┤ U1(π/8) ├┤ X ├┤ U1(-π/8) ├┤ X ├┤ U1(π/8) ├┤ X ├┤ U1(-π/8) ├»
«               └─────────┘└─┬─┘└──────────┘└───┘└─────────┘└─┬─┘└──────────┘»
«     qc_2 -> 4 ─────────────■────────────────────────────────■──────────────»
«                                                                            »
«         qm: 4/═════════════════════════════════════════════════════════════»
«                                                                            »
«                                             ┌───┐                          »
«     qc_0 -> 0 ──────────────────────■───────┤ X ├───────■──────────────────»
«                    ┌─────────────┐┌─┴─┐     └─┬─┘     ┌─┴─┐     ┌─────────┐»
«     qc_3 -> 1 ──■──┤ U3(π,π/8,π) ├┤ X ├───────■───────┤ X ├──■──┤ U1(π/8) ├»
«                 │  └─────────────┘└───┘               └───┘  │  └─────────┘»
«ancilla_0 -> 2 ──┼────────────────────────────────────────────┼─────────────»
«               ┌─┴─┐  ┌─────────┐  ┌───┐  ┌──────────┐      ┌─┴─┐┌─────────┐»
«     qc_1 -> 3 ┤ X ├──┤ U1(π/8) ├──┤ X ├──┤ U1(-π/8) ├──────┤ X ├┤ U1(π/8) ├»
«               └───┘  └─────────┘  └─┬─┘┌─┴──────────┴┐     └───┘└─────────┘»
«     qc_2 -> 4 ──────────────────────■──┤ U3(π,π/8,π) ├─────────────────────»
«                                        └─────────────┘                     »
«         qm: 4/═════════════════════════════════════════════════════════════»
«                                                                            »
«               ┌───┐┌──────────┐┌───┐     ┌───┐                           »
«     qc_0 -> 0 ┤ X ├┤ U1(-π/8) ├┤ X ├──■──┤ X ├──■────────────────────────»
«               └─┬─┘└──────────┘└─┬─┘┌─┴─┐└─┬─┘┌─┴─┐                      »
«     qc_3 -> 1 ──■────────────────■──┤ X ├──■──┤ X ├──■────────────────■──»
«                                     └───┘     └───┘  │                │  »
«ancilla_0 -> 2 ───────────────────────────────────────┼────────────────┼──»
«                       ┌───┐                        ┌─┴─┐┌──────────┐┌─┴─┐»
«     qc_1 -> 3 ──■─────┤ X ├──────■─────────────────┤ X ├┤ U1(-π/8) ├┤ X ├»
«               ┌─┴─┐   └─┬─┘    ┌─┴─┐               └───┘└──────────┘└───┘»
«     qc_2 -> 4 ┤ X ├─────■──────┤ X ├─────────────────────────────────────»
«               └───┘            └───┘                                     »
«         qm: 4/═══════════════════════════════════════════════════════════»
«                                                                          »
«                                                                         »
«     qc_0 -> 0 ────────────■────────────────────────────────■────────────»
«               ┌───┐     ┌─┴─┐┌─────────┐┌───┐┌──────────┐┌─┴─┐          »
«     qc_3 -> 1 ┤ X ├──■──┤ X ├┤ U1(π/8) ├┤ X ├┤ U1(-π/8) ├┤ X ├───────■──»
«               └─┬─┘  │  └───┘└─────────┘└─┬─┘└──────────┘└───┘       │  »
«ancilla_0 -> 2 ──┼────┼────────────────────┼──────────────────────────┼──»
«                 │  ┌─┴─┐                  │              ┌───┐     ┌─┴─┐»
«     qc_1 -> 3 ──■──┤ X ├──────────────────■───────■──────┤ X ├──■──┤ X ├»
«                    └───┘                        ┌─┴─┐    └─┬─┘┌─┴─┐└───┘»
«     qc_2 -> 4 ──────────────────────────────────┤ X ├──────■──┤ X ├─────»
«                                                 └───┘         └───┘     »
«         qm: 4/══════════════════════════════════════════════════════════»
«                                                                         »
«                                                            ┌───┐          »
«     qc_0 -> 0 ──────────────────────────────────────■──────┤ X ├──■───────»
«                                                   ┌─┴─┐    └─┬─┘┌─┴─┐     »
«     qc_3 -> 1 ──────────────────────────────■─────┤ X ├──────■──┤ X ├──■──»
«                                             │     └───┘         └───┘  │  »
«ancilla_0 -> 2 ──────────────────────────────┼──────────────────────────┼──»
«               ┌──────────┐┌───┐┌─────────┐┌─┴─┐┌──────────┐          ┌─┴─┐»
«     qc_1 -> 3 ┤ U1(-π/8) ├┤ X ├┤ U1(π/8) ├┤ X ├┤ U1(-π/8) ├──────────┤ X ├»
«               └──────────┘└─┬─┘└─────────┘└───┘└──────────┘          └───┘»
«     qc_2 -> 4 ──────────────■─────────────────────────────────────────────»
«                                                                           »
«         qm: 4/════════════════════════════════════════════════════════════»
«                                                                           »
«                                                                    »
«     qc_0 -> 0 ────────────────────────────■────────────────────────»
«                               ┌───┐     ┌─┴─┐┌──────────┐     ┌───┐»
«     qc_3 -> 1 ─────────────■──┤ X ├──■──┤ X ├┤ U1(-π/8) ├─────┤ X ├»
«                            │  └─┬─┘  │  └───┘└──────────┘     └─┬─┘»
«ancilla_0 -> 2 ─────────────┼────┼────┼──────────────────────────┼──»
«               ┌─────────┐┌─┴─┐  │  ┌─┴─┐        ┌───┐           │  »
«     qc_1 -> 3 ┤ U1(π/8) ├┤ X ├──■──┤ X ├──■─────┤ X ├──────■────■──»
«               └─────────┘└───┘     └───┘┌─┴─┐   └─┬─┘    ┌─┴─┐     »
«     qc_2 -> 4 ──────────────────────────┤ X ├─────■──────┤ X ├─────»
«                                         └───┘            └───┘     »
«         qm: 4/═════════════════════════════════════════════════════»
«                                                                    »
«                                   ┌─────────┐                               »
«     qc_0 -> 0 ─────────────────■──┤ U1(π/8) ├────────────────────────────■──»
«                 ┌─────────┐  ┌─┴─┐├─────────┴┐     ┌───┐  ┌─────────┐  ┌─┴─┐»
«     qc_3 -> 1 ──┤ U1(π/8) ├──┤ X ├┤ U1(-π/8) ├─────┤ X ├──┤ U1(π/8) ├──┤ X ├»
«                 └─────────┘  └───┘└──────────┘     └─┬─┘  └─────────┘  └───┘»
«ancilla_0 -> 2 ───────────────────────────────────────┼──────────────────────»
«               ┌─────────────┐        ┌───┐           │  ┌─────────────┐     »
«     qc_1 -> 3 ┤ U3(π,π/8,π) ├──■─────┤ X ├──────■────■──┤ U3(π,π/8,π) ├──■──»
«               └─────────────┘┌─┴─┐   └─┬─┘    ┌─┴─┐     └─────────────┘┌─┴─┐»
«     qc_2 -> 4 ───────────────┤ X ├─────■──────┤ X ├────────────────────┤ X ├»
«                              └───┘            └───┘                    └───┘»
«         qm: 4/══════════════════════════════════════════════════════════════»
«                                                                             »
«                  ┌───┐                                                   »
«     qc_0 -> 0 ───┤ X ├──────■────────────────────────────────────────────»
«                  └─┬─┘    ┌─┴─┐     ┌───┐┌──────────┐     ┌───┐          »
«     qc_3 -> 1 ─────■──────┤ X ├─────┤ X ├┤ U1(-π/8) ├──■──┤ X ├──■───────»
«                           └───┘     └─┬─┘└──────────┘  │  └─┬─┘  │       »
«ancilla_0 -> 2 ────────────────────────┼────────────────┼────┼────┼───────»
«                           ┌───┐       │              ┌─┴─┐  │  ┌─┴─┐┌───┐»
«     qc_1 -> 3 ────────────┤ X ├──■────■──────────────┤ X ├──■──┤ X ├┤ X ├»
«               ┌──────────┐└─┬─┘┌─┴─┐                 └───┘     └───┘└─┬─┘»
«     qc_2 -> 4 ┤ U1(-π/8) ├──■──┤ X ├──────────────────────────────────■──»
«               └──────────┘     └───┘                                     »
«         qm: 4/═══════════════════════════════════════════════════════════»
«                                                                          »
«                                           ┌───┐                           »
«     qc_0 -> 0 ─────────────────────■──────┤ X ├──■─────────────────────■──»
«                                  ┌─┴─┐    └─┬─┘┌─┴─┐┌───┐┌──────────┐┌─┴─┐»
«     qc_3 -> 1 ─────────────■─────┤ X ├──────■──┤ X ├┤ X ├┤ U1(-π/8) ├┤ X ├»
«                            │     └───┘         └───┘└─┬─┘└──────────┘└───┘»
«ancilla_0 -> 2 ─────────────┼──────────────────────────┼───────────────────»
«               ┌─────────┐┌─┴─┐┌──────────┐┌───┐       │                   »
«     qc_1 -> 3 ┤ U1(π/8) ├┤ X ├┤ U1(-π/8) ├┤ X ├───────■───────────────────»
«               └─────────┘└───┘└──────────┘└─┬─┘                           »
«     qc_2 -> 4 ──────────────────────────────■─────────────────────────────»
«                                                                           »
«         qm: 4/════════════════════════════════════════════════════════════»
«                                                                           »
«                                                                          »
«     qc_0 -> 0 ───────────────────────────────────────────────────────────»
«               ┌─────────┐┌───┐┌──────────┐          ┌───┐┌─────────┐     »
«     qc_3 -> 1 ┤ U1(π/8) ├┤ X ├┤ U1(-π/8) ├──────────┤ X ├┤ U1(π/8) ├──■──»
«               └─────────┘└─┬─┘└──────────┘          └─┬─┘└─────────┘  │  »
«ancilla_0 -> 2 ─────────────┼──────────────────────────┼───────────────┼──»
«                            │              ┌───┐       │             ┌─┴─┐»
«     qc_1 -> 3 ─────────────■───────■──────┤ X ├──■────■─────────────┤ X ├»
«                                  ┌─┴─┐    └─┬─┘┌─┴─┐                └───┘»
«     qc_2 -> 4 ───────────────────┤ X ├──────■──┤ X ├─────────────────────»
«                                  └───┘         └───┘                     »
«         qm: 4/═══════════════════════════════════════════════════════════»
«                                                                          »
«                                                              ┌─────────────┐»
«     qc_0 -> 0 ────────────────────────────────────────────■──┤ U3(π,π/8,π) ├»
«               ┌───┐                           ┌───┐     ┌─┴─┐└─┬─────────┬─┘»
«     qc_3 -> 1 ┤ X ├──■─────────────────────■──┤ X ├──■──┤ X ├──┤ U1(π/8) ├──»
«               └─┬─┘  │                     │  └─┬─┘  │  └───┘  └─────────┘  »
«ancilla_0 -> 2 ──┼────┼─────────────────────┼────┼────┼──────────────────────»
«                 │  ┌─┴─┐┌───┐┌──────────┐┌─┴─┐  │  ┌─┴─┐          ┌───┐     »
«     qc_1 -> 3 ──■──┤ X ├┤ X ├┤ U1(-π/8) ├┤ X ├──■──┤ X ├──■───────┤ X ├─────»
«                    └───┘└─┬─┘└──────────┘└───┘     └───┘┌─┴─┐     └─┬─┘     »
«     qc_2 -> 4 ────────────■─────────────────────────────┤ X ├───────■───────»
«                                                         └───┘               »
«         qm: 4/══════════════════════════════════════════════════════════════»
«                                                                             »
«                                                                           »
«     qc_0 -> 0 ────────────────────────────────────────────────────────────»
«                    ┌───┐ ┌──────────┐                  ┌───┐   ┌─────────┐»
«     qc_3 -> 1 ─────┤ X ├─┤ U1(-π/8) ├──────────────────┤ X ├───┤ U2(0,π) ├»
«                    └─┬─┘ └──────────┘                  └─┬─┘   └─────────┘»
«ancilla_0 -> 2 ───────┼───────────────────────────────────┼────────────────»
«                      │  ┌───────────┐     ┌───┐          │     ┌─────────┐»
«     qc_1 -> 3 ──■────■──┤ U3(π,0,π) ├──■──┤ X ├──■───────■─────┤ U1(π/8) ├»
«               ┌─┴─┐     └───────────┘┌─┴─┐└─┬─┘┌─┴─┐┌─────────┐└─────────┘»
«     qc_2 -> 4 ┤ X ├──────────────────┤ X ├──■──┤ X ├┤ U1(π/8) ├───────────»
«               └───┘                  └───┘     └───┘└─────────┘           »
«         qm: 4/════════════════════════════════════════════════════════════»
«                                                                           »
«                    ┌───┐     ┌───────────┐                                »
«     qc_0 -> 0 ──■──┤ X ├──■──┤ U2(π/8,π) ├────────────────────────────────»
«               ┌─┴─┐└─┬─┘┌─┴─┐└───┬───┬───┘┌──────────┐┌───┐     ┌───┐     »
«     qc_3 -> 1 ┤ X ├──■──┤ X ├────┤ X ├────┤ U1(-π/8) ├┤ X ├──■──┤ X ├──■──»
«               └───┘     └───┘    └─┬─┘    └──────────┘└─┬─┘  │  └─┬─┘  │  »
«ancilla_0 -> 2 ─────────────────────┼────────────────────┼────┼────┼────┼──»
«                                    │                    │  ┌─┴─┐  │  ┌─┴─┐»
«     qc_1 -> 3 ─────────────────────■────────────────────■──┤ X ├──■──┤ X ├»
«                                                            └───┘     └───┘»
«     qc_2 -> 4 ────────────────────────────────────────────────────────────»
«                                                                           »
«         qm: 4/════════════════════════════════════════════════════════════»
«                                                                           »
«                                                                         »
«     qc_0 -> 0 ──────────────────────────────────────────────────────────»
«                                ┌───┐                     ┌───┐          »
«     qc_3 -> 1 ──────────■──────┤ X ├──■────────────■─────┤ X ├──■───────»
«                         │      └─┬─┘  │            │     └─┬─┘  │       »
«ancilla_0 -> 2 ──────────┼────────┼────┼────────────┼───────┼────┼───────»
«                       ┌─┴─┐      │  ┌─┴─┐        ┌─┴─┐     │  ┌─┴─┐     »
«     qc_1 -> 3 ──■─────┤ X ├──────■──┤ X ├──■─────┤ X ├─────■──┤ X ├──■──»
«               ┌─┴─┐┌──┴───┴───┐     └───┘┌─┴─┐┌──┴───┴──┐     └───┘┌─┴─┐»
«     qc_2 -> 4 ┤ X ├┤ U1(-π/8) ├──────────┤ X ├┤ U1(π/8) ├──────────┤ X ├»
«               └───┘└──────────┘          └───┘└─────────┘          └───┘»
«         qm: 4/══════════════════════════════════════════════════════════»
«                                                                         »
«                                                    ┌───┐          »
«     qc_0 -> 0 ──────────────────────────────────■──┤ X ├──■───────»
«                                               ┌─┴─┐└─┬─┘┌─┴─┐┌───┐»
«     qc_3 -> 1 ─────────────────────────────■──┤ X ├──■──┤ X ├┤ X ├»
«                                            │  └───┘     └───┘└─┬─┘»
«ancilla_0 -> 2 ─────────────────────────────┼───────────────────┼──»
«                                ┌───┐     ┌─┴─┐                 │  »
«     qc_1 -> 3 ──────────────■──┤ X ├──■──┤ X ├─────────────────■──»
«               ┌──────────┐┌─┴─┐└─┬─┘┌─┴─┐└───┘                    »
«     qc_2 -> 4 ┤ U1(-π/8) ├┤ X ├──■──┤ X ├─────────────────────────»
«               └──────────┘└───┘     └───┘                         »
«         qm: 4/════════════════════════════════════════════════════»
«                                                                   »
«                                                                           »
«     qc_0 -> 0 ─────────────────────────────────────────────────────■──────»
«               ┌──────────┐     ┌───┐                             ┌─┴─┐    »
«     qc_3 -> 1 ┤ U1(-π/8) ├──■──┤ X ├──■────────────────────■─────┤ X ├────»
«               └──────────┘  │  └─┬─┘  │                    │     └───┘    »
«ancilla_0 -> 2 ──────────────┼────┼────┼────────────────────┼──────────────»
«                           ┌─┴─┐  │  ┌─┴─┐┌───┐┌─────────┐┌─┴─┐┌──────────┐»
«     qc_1 -> 3 ────────────┤ X ├──■──┤ X ├┤ X ├┤ U1(π/8) ├┤ X ├┤ U1(-π/8) ├»
«                           └───┘     └───┘└─┬─┘└─────────┘└───┘└──────────┘»
«     qc_2 -> 4 ─────────────────────────────■──────────────────────────────»
«                                                                           »
«         qm: 4/════════════════════════════════════════════════════════════»
«                                                                           »
«               ┌───┐                     ┌───┐                           »
«     qc_0 -> 0 ┤ X ├──■────────────■─────┤ X ├──■────────────────────────»
«               └─┬─┘┌─┴─┐        ┌─┴─┐   └─┬─┘┌─┴─┐                      »
«     qc_3 -> 1 ──■──┤ X ├──■─────┤ X ├─────■──┤ X ├──■───────────────────»
«                    └───┘  │     └───┘        └───┘  │                   »
«ancilla_0 -> 2 ────────────┼─────────────────────────┼───────────────────»
«                         ┌─┴─┐┌─────────┐          ┌─┴─┐┌──────────┐┌───┐»
«     qc_1 -> 3 ──────────┤ X ├┤ U1(π/8) ├──────────┤ X ├┤ U1(-π/8) ├┤ X ├»
«                         └───┘└─────────┘          └───┘└──────────┘└─┬─┘»
«     qc_2 -> 4 ───────────────────────────────────────────────────────■──»
«                                                                         »
«         qm: 4/══════════════════════════════════════════════════════════»
«                                                                         »
«                                                           ┌─────────┐ ░ ┌─┐»
«     qc_0 -> 0 ──────────────────────────────────────■─────┤ U2(0,π) ├─░─┤M├»
«                          ┌───┐     ┌──────────┐   ┌─┴─┐   └─────────┘ ░ └╥┘»
«     qc_3 -> 1 ───────────┤ X ├──■──┤ U1(-π/8) ├───┤ X ├───────────────░──╫─»
«                          └─┬─┘  │  └──────────┘   └───┘               ░  ║ »
«ancilla_0 -> 2 ─────────────┼────┼─────────────────────────────────────░──╫─»
«               ┌─────────┐  │  ┌─┴─┐   ┌───┐    ┌─────────┐            ░  ║ »
«     qc_1 -> 3 ┤ U1(π/8) ├──■──┤ X ├───┤ X ├────┤ U2(0,π) ├────────────░──╫─»
«               ├─────────┤     └───┘   └─┬─┘    └─────────┘            ░  ║ »
«     qc_2 -> 4 ┤ U2(0,π) ├───────────────■─────────────────────────────░──╫─»
«               └─────────┘                                             ░  ║ »
«         qm: 4/═══════════════════════════════════════════════════════════╩═»
«                                                                          0 »
«                        
«     qc_0 -> 0 ─────────
«                     ┌─┐
«     qc_3 -> 1 ──────┤M├
«                     └╥┘
«ancilla_0 -> 2 ───────╫─
«                  ┌─┐ ║ 
«     qc_1 -> 3 ───┤M├─╫─
«               ┌─┐└╥┘ ║ 
«     qc_2 -> 4 ┤M├─╫──╫─
«               └╥┘ ║  ║ 
«         qm: 4/═╩══╩══╩═
«                1  2  3 
